<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" />
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript">
      document.addEventListener(
        "deviceready",
        () => {
          try {
            var div = document.getElementById("map_canvas");

            // Create a Google Maps native view under the map_canvas div.
            // var map = plugin.google.maps.Map.getMap(div, {
            //   controls: {
            //     compass: true,
            //     myLocationButton: true,
            //     indoorPicker: true,
            //     zoom: true,
            //     mapToolbar: true // currently Android only
            //   }
            // });

            // If you click the button, do something...
            var button = document.getElementById("button");
            button.addEventListener("click", () => {
              // Move to the position with animation
              map.animateCamera({
                target: { lat: 37.422359, lng: -122.084344 },
                zoom: 17,
                tilt: 60,
                bearing: 140,
                duration: 5000
              });

              // Add a maker
              var marker = map.addMarker({
                position: { lat: 37.422359, lng: -122.084344 },
                title:
                  "Welecome to \n" +
                  "Cordova GoogleMaps plugin for iOS and Android",
                snippet: "This plugin is awesome!",
                animation: plugin.google.maps.Animation.BOUNCE
              });

              // Show the info window
              marker.showInfoWindow();
            });
          } catch (e) {
            console.warn(e);
          }

          var picButton = document.getElementById("picture");
          picButton.addEventListener("click", () => {
            navigator.camera.getPicture(
              imageData => {
                console.log("camera", { imageData });
                var image = document.getElementById("picHolder");
                if (image) {
                  image.src = imageData;
                }
              },
              error => {
                console.warn("camera", { error });
              }
            );
          });
        },
        false
      );
    </script>
    <style type="text/css">
      #map_canvas {
        display: none;
        /* Must bigger size than 100x100 pixels */
        width: 100%;
        height: 300px;
        border: 1px solid red;
        transition: all 0.7s;
        position: relative;
        z-index: 1;
      }
      button {
        padding: 0.5em;
        margin: 0.5em;
      }
      .body {
        background: yellow;
        position: relative;
        z-index: 2;
        margin-top: 0px;
      }

      #container {
       /* position: fixed;
        width: 100%;
        height: 100%;
        overflow: scroll;
        left: 0px;
        top: 0px;
        padding: 0px;
        margin: 0px;*/
      }
      #picHolder {
        width: 100%;
      }
      body, html{
        padding:0 5px;
        margin:0;
      }
      h1{
        border:1px solid;
        padding: 5px;
        margin-top:0;
      }
    </style>
  </head>
  <body>
    <h1>This is header</h1>
    <div id="container">
      <div id="map_canvas">
        <button id="button">Click me!</button>
        <button id="button-resize">Resize!</button>
      </div>

      <button id="picture">TAKE PICTURE</button>
      <img id="picHolder" />

      <div class="body">
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit.
          <a href="http://google.com">anchor link</a> Odit, alias impedit
          recusandae rerum aspernatur minus dolorem suscipit ut maiores officiis
          repellendus? Voluptatum veniam iusto sequi deleniti illo laborum
          similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet
          <a href="http://google.com">try to tap here</a>consectetur adipisicing
          elit. Odit, alias impedit recusandae rerum aspernatur minus dolorem
          suscipit ut maiores officiis repellendus? Voluptatum veniam iusto
          sequi deleniti illo laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
        <h1>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit, alias
          impedit recusandae rerum aspernatur minus dolorem suscipit ut maiores
          officiis repellendus? Voluptatum veniam iusto sequi deleniti illo
          laborum similique consequatur!
        </h1>
      </div>
    </div>
    <script>
      let up = false;
      document
        .getElementById("button-resize")
        .addEventListener("mouseup", () => {
          document.getElementById("map_canvas").style.height = up
            ? "300px"
            : "100vh";
          up = !up;
        });
    </script>
  </body>
</html>
